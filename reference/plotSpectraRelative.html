<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plot the relative difference or percent change between two spectra — plotSpectraRelative • mizerReef</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot the relative difference or percent change between two spectra — plotSpectraRelative"><meta name="description" content="This plots a measure of the relative difference between the steady state
spectra of two mizer objects. The user can choose how this difference is
calculated. Let the spectra of the two objects be represented as
\(N_1(w)\) and \(N_2(w)\)."><meta property="og:description" content="This plots a measure of the relative difference between the steady state
spectra of two mizer objects. The user can choose how this difference is
calculated. Let the spectra of the two objects be represented as
\(N_1(w)\) and \(N_2(w)\)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mizerReef</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"></ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Plot the relative difference or percent change between two spectra</h1>

      <div class="d-none name"><code>plotSpectraRelative.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This plots a measure of the relative difference between the steady state
spectra of two mizer objects. The user can choose how this difference is
calculated. Let the spectra of the two objects be represented as
\(N_1(w)\) and \(N_2(w)\).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plotSpectraRelative</span><span class="op">(</span></span>
<span>  <span class="va">object1</span>,</span>
<span>  <span class="va">object2</span>,</span>
<span>  species <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">power</span>,</span>
<span>  diff_method <span class="op">=</span> <span class="st">"percent_change"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">plotlySpectraRelative</span><span class="op">(</span><span class="va">object1</span>, <span class="va">object2</span>, <span class="va">diff_method</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object-">object1<a class="anchor" aria-label="anchor" href="#arg-object-"></a></dt>
<dd><p>An object of class MizerSim or MizerParams</p></dd>


<dt id="arg-object-">object2<a class="anchor" aria-label="anchor" href="#arg-object-"></a></dt>
<dd><p>An object of class MizerSim or MizerParams</p></dd>


<dt id="arg-species">species<a class="anchor" aria-label="anchor" href="#arg-species"></a></dt>
<dd><p>The species to be selected. Optional. By default all
species are selected. A vector of species names, or a
numeric vector with the species indices, or a logical
vector indicating for each species whether it is to be
selected (TRUE) or not.</p></dd>


<dt id="arg-power">power<a class="anchor" aria-label="anchor" href="#arg-power"></a></dt>
<dd><p>The abundance is plotted as the number density times the weight
raised to this power. The default power = 1 gives the biomass density,
whereas power = 2 gives the biomass density with respect to logarithmic
size bins.</p></dd>


<dt id="arg-diff-method">diff_method<a class="anchor" aria-label="anchor" href="#arg-diff-method"></a></dt>
<dd><p>The method to calculate the relative change between
models. If <code>percent.change</code>, the percent change is
calculated relative to the value from object 1 with
formula 100*(new-old)/old. If <code>rel.diff</code> the relative
difference is returned given by (new - old)/(old + new).</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Parameters passed to <code>plotSpectra()</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A ggplot2 object</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If <code>diff_method</code> is given as <code>percent_change</code>, this function plots the
percent change, given by $$ 100*(N_2(w) - N_1(w)) / (N_1(w)).$$</p>
<p>If <code>diff_method</code> is given as <code>rel_diff</code> the difference is calculated
relative to their average, so $$2 (N_2(w) - N_1(w)) / (N_2(w) + N_1(w)).$$</p>
<p>The individual spectra are calculated by the <code>plotSpectra()</code> function which
is passed all additional arguments you supply. So you can for example
determine a size range over which to average the simulation results via the
<code>time_range</code> argument. See <code>plotSpectra()</code> for more options.</p>
<p>Note that it does not matter whether the relative difference is calculated
for the number density or the biomass density or the biomass density in log
weight because the factors of \(w\) by which the densities differ cancels
out in the relative difference.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other plotting functions:
<code><a href="plot2Productivity.html">plot2Productivity</a>()</code>,
<code><a href="plot2TotalBiomass.html">plot2TotalBiomass</a>()</code>,
<code><a href="plotBiomass.html">plotBiomass</a>()</code>,
<code><a href="plotProductivity.html">plotProductivity</a>()</code>,
<code><a href="plotProductivityRelative.html">plotProductivityRelative</a>()</code>,
<code><a href="plotRefuge.html">plotRefuge</a>()</code>,
<code><a href="plotRelativeContribution.html">plotRelativeContribution</a>()</code>,
<code><a href="plotTotalAbundance.html">plotTotalAbundance</a>()</code>,
<code><a href="plotTotalBiomass.html">plotTotalBiomass</a>()</code>,
<code><a href="plotTotalBiomassRelative.html">plotTotalBiomassRelative</a>()</code>,
<code><a href="plotVulnerable.html">plotVulnerable</a>()</code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Chelsey M. Beese, Gustav Delius, Peter J. Mumby, Alice Rogers.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

