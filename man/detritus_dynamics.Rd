% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/detritus_components.R
\name{detritus_dynamics}
\alias{detritus_dynamics}
\title{Detritus dynamics}
\usage{
detritus_dynamics(params, n, n_other, rates, dt, ...)
}
\arguments{
\item{params}{A \link{MizerParams} object}

\item{n}{A matrix of current species abundances (species x size)}

\item{n_other}{Other dynamic components.}

\item{rates}{A list of rates as returned by \code{\link[=getRates]{getRates()}}}

\item{dt}{Time step size}

\item{...}{Unused}
}
\value{
A vector giving the detritus spectrum at the next time step.
}
\description{
Calculates the detritus biomass at the next time step based on the
current detritus biomass.
}
\details{
The time evolution of the detritus biomass \eqn{B} is described by

\deqn{dB_D/dt = P_D - c_D \cdot B_D }{
      dB_D/dt = P_D - c_D * B_D }

where \eqn{c_D} is the mass-specific rate of consumption, calculated
with \code{detritus_consumption()}and \eqn{P_D} is the rate at which the
rest of the system produces detritus biomass, calculate with
\code{getDetritusProduction()}.

The dynamical equation is solved analytically to

\deqn{B_D(t+dt) = B(t)\exp(-c_D \cdot dt)
              + \frac{P_D}{c_D}
                (1-\exp(-c_D \cdot dt)).}{
      B_D(t+dt) = B(t) exp(-c_D * dt) 
              + P_D/c_D * (1 - exp(-c_D * dt)).}

This avoids the stability problems that would arise if we used the Euler
method to solve the equation numerically.
}
\seealso{
\code{\link[=algae_dynamics]{algae_dynamics()}}, \code{\link[=detritus_consumption]{detritus_consumption()}},
\code{\link[=getDetritusConsumption]{getDetritusConsumption()}}, \code{\link[=getDetritusProduction]{getDetritusProduction()}}
}
\concept{detritus}
